<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Erstellen Sie für den BwR-Unterricht mit wenigen Handgriffen Belege, T-Konten, Schemata und Geschäftsfälle">
  <meta name="keywords"
    content="BwR, Realschule, Schema, Lehrkraft, Prüfung, Belege, Schemata, Rechnungswesen, Buchführung">
  <link rel="stylesheet" href="css/style.css">
  <script src="js/menu.js"></script>
  <script src="js/js-yaml.min.js"></script>
  <title>BwR</title>
</head>

<body>
  <main>
    <div w3-include-html="navigation.html"></div>
    <p style="text-align: justify;">
      <br>
      <b>Erstellen Sie für den BwR-Unterricht an der bayerischen Realschule mit wenigen Handgriffen Belege,
        Geschäftsfälle, Aufgaben, Diagramme, T-Konten und Schemata,
        die Sie jederzeit weiterverarbeiten können. Die Exportformate sind für die Verwendung auf der ByCS Lernplattform
        optimiert.</b>
    </p>
    </p>
    <!-- Slideshow container -->
    <div class="slideshow-container">

      <!-- Full-width images with number and caption text -->
      <div class="mySlides fade">
        <div class="numbertext">1 / 4</div>
        <img src="media/pic/Folie1.PNG" alt="Belege" style="width:100%">
        <div class="text">Belege</div>
      </div>

      <div class="mySlides fade">
        <div class="numbertext">1 / 4</div>
        <img src="media/pic/Folie4.PNG" alt="Belege" style="width:100%">
        <div class="text">Belege</div>
      </div>

      <div class="mySlides fade">
        <div class="numbertext">2 / 4</div>
        <img src="media/pic/Folie2.PNG" alt="BWL-Vorlagen" style="width:100%">
        <div class="text">BWL-Vorlagen</div>
      </div>

      <div class="mySlides fade">
        <div class="numbertext">3 / 4</div>
        <img src="media/pic/Folie3.PNG" alt="Geschäftsfälle und Schemata" style="width:100%">
        <div class="text">Geschäftsfälle und Schemata</div>
      </div>

            <div class="mySlides fade">
        <div class="numbertext">4 / 4</div>
        <img src="media/pic/Folie5.PNG" alt="Geschäftsfälle und Schemata" style="width:100%">
        <div class="text">Geschäftsfälle und Schemata</div>
      </div>

      <!-- Next and previous buttons -->
      <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
      <a class="next" onclick="plusSlides(1)">&#10095;</a>
    </div>
    <br>


    <section id="modellunternehmen">

      <h2 style="margin: 0 0 12px 0; color: #2c3e50; font-size: 1.5rem;">
        Modellunternehmen verwalten
      </h2>

       <div class="modellunternehmen-section"
     style="margin: 0 auto; padding: 16px 20px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e0e0e0;">
    <label for="allCompaniesDropdown" style="font-weight: 600; display: block; margin-bottom: 8px;">
        Alle verfügbaren Unternehmen:
    </label>
    <div style="display: flex; gap: 10px; align-items: start;">
      <div class="flex-row"><select id="allCompaniesDropdown" 
                style="flex: 1; max-width: 400px; padding: 10px; font-size: 1rem; border: 1px solid #ccc; border-radius: 6px;">
            <option value="">— Bitte auswählen —</option>
        </select>
        <button id="setMyCompanyButton" 
                onclick="setAsMyCompany()" 
                disabled>
            ★ Als Modellunternehmen verwenden
        </button></div>
    </div>

    <div id="companyPreview" style="margin-top: 16px; padding: 12px; background: #fff; border: 1px solid #ddd; border-radius: 6px; min-height: 80px;">
        Wählen Sie ein Unternehmen aus, um Details zu sehen.
    </div>
        <div id="myCompanyStatus" style="margin-top: 8px; padding: 8px; background: #d1ecf1; border: 1px solid #bee5eb; border-radius: 4px; display: none;">
        <strong>Aktuell als Modellunternehmen gespeichert:</strong> <span id="myCompanyName">-</span>
        <button onclick="clearMyCompany()" style="margin-left: 10px; padding: 4px 8px; background: #dc3545; color: white; border: none; border-radius: 3px; cursor: pointer; font-size: 0.85em;">
            ✕ Entfernen
        </button>
    </div>
</div>
<br>
           <details>
        <summary><strong>Unternehmen importieren/exportieren</strong></summary>
      <div class="modellunternehmen-section"
        style="margin: 0 auto; padding: 16px 20px; background: #f8f9fa; border-radius: 10px; border: 1px solid #e0e0e0;">

        <p style="color: #555; line-height: 1.5; margin: 0 0 16px 0; font-size: 0.95rem;">
          Importieren/exportieren Sie eine Liste von Unternehmen. Die Daten werden nur im Browser gespeichert.
        </p>

        <!-- Drag & Drop + Upload Bereich -->
        <div id="dropZone"
          style="background: white; padding: 14px; border-radius: 8px; border: 2px dashed #ccc; text-align: center; margin: 12px 0; cursor: pointer; transition: all 0.2s;"
          ondragover="this.style.borderColor='var(--accent-color)'; this.style.background='#f0f8ff';"
          ondragleave="this.style.borderColor='#ccc'; this.style.background='white';"
          onclick="document.getElementById('fileInput').click();">

          <label for="fileInput"
            style="display: block; margin-bottom: 6px; font-weight: 500; color: #444; font-size: 0.95rem; cursor: pointer;">
            .yml-Datei hochladen (Drag & Drop oder Klick)
          </label>

          <input type="file" id="fileInput" accept=".yml" onchange="handleFileUpload()" style="display: none;">

          <p id="dropZoneText" style="margin: 8px 0 0; color: #777; font-size: 0.9rem;">
            Datei hierher ziehen oder klicken
          </p>
        </div>
        <div>
          <strong>Status:</strong>
          <span id="localStorageStatus" style="font-style: italic; color: #666;">
            Lädt...
          </span>
        </div>
        <!-- Status + Buttons -->
        <div
          style="display: flex; flex-wrap: wrap; gap: 12px; align-items: center; justify-content: space-between; margin-top: 16px; font-size: 0.9rem;">


          <div style="display: flex; gap: 10px;" id="exportbutton">
            <button onclick="deleteAndLoadDefaultData()">
              Daten zurücksetzen
            </button>
          </div>
        </div></div></details>
<br>
           
        <!-- JavaScript für Drag & Drop (direkt danach oder in deinem <script>-Block) -->
      <script>
        const dropZone = document.getElementById('dropZone');
        const fileInput = document.getElementById('fileInput');
        const dropZoneText = document.getElementById('dropZoneText');

        // Klick → Dateidialog öffnen
        dropZone.addEventListener('click', () => fileInput.click());

        // Drag-over → visuelles Feedback
        dropZone.addEventListener('dragover', (e) => {
          e.preventDefault();
          dropZone.style.borderColor = 'var(--accent-color)';
          dropZone.style.background = '#f0f8ff';
          dropZoneText.textContent = 'Loslassen zum Hochladen';
        });

        // Drag-leave → zurücksetzen
        dropZone.addEventListener('dragleave', () => {
          dropZone.style.borderColor = '#ccc';
          dropZone.style.background = 'white';
          dropZoneText.textContent = 'Datei hierher ziehen oder klicken';
        });

        // Drop → Datei übernehmen und verarbeiten
        dropZone.addEventListener('drop', (e) => {
          e.preventDefault();
          dropZone.style.borderColor = '#ccc';
          dropZone.style.background = 'white';
          dropZoneText.textContent = 'Datei hierher ziehen oder klicken';

          const files = e.dataTransfer.files;
          if (files.length > 0) {
            fileInput.files = files;
            handleFileUpload();           // Deine Upload-Funktion aufrufen
            dropZoneText.textContent = 'Hochgeladen: ' + files[0].name;
          }
        });
      </script>

      <script>

        function updateLocalStorageStatus(status) {
          document.getElementById('localStorageStatus').textContent = status;
        }

        function loadUploadedDataFromLocalStorage() {
          const uploadedDataJSON = localStorage.getItem('uploadedYamlCompanyData');
          if (uploadedDataJSON) {
            updateLocalStorageStatus('Daten werden aus dem Browserspeicher verwendet.');
            try {
              const uploadedData = JSON.parse(uploadedDataJSON);
              // Verarbeiten Sie die geladenen Daten
            } catch (error) {
              console.error("Error parsing uploaded data from Local Storage:", error);
            }
          } else {
            updateLocalStorageStatus('Standdarddaten werden verwendet.');
          }
        }

        // Rufen Sie die Funktion zum Laden der Daten aus dem Local Storage auf
        loadUploadedDataFromLocalStorage();
      </script>
        <details>
        <summary><strong>Unternehmen manuell hinzufügen</strong></summary>
          <h3>Meine hinzugefügten Unternehmen</h3>
      <div id="userCompanyList" style="margin-top: 15px;">
        <!-- Wird dynamisch gefüllt -->
      </div><br>
        <div class="box" style="margin-top: 15px;">
          <form id="addCompanyForm" onsubmit="handleAddCompanyForm(event)">
            <div class="grid3">
              <div>
                <h4>Basisdaten</h4>
                <label for="newCompanyName">Firmenname: *</label><br>
                <input type="text" id="newCompanyName" required placeholder="z.B. ABC-Bikes" maxlength="50"
                  title="Keine Sonderzeichen wie <, >, {, } erlaubt"><br>

                <label for="newCompanyRechtsform">Rechtsform: *</label><br>
                <select id="newCompanyRechtsform" required>
                  <option value="">-- Bitte wählen --</option>
                  <option value="e. K.">e. K.</option>
                  <option value="e. Kfr.">e. Kfr.</option>
                  <option value="GmbH">GmbH</option>
                  <option value="UG">UG</option>
                  <option value="AG">AG</option>
                  <option value="OHG">OHG</option>
                  <option value="KG">KG</option>
                  <option value="GmbH & Co. KG">GmbH & Co. KG</option>
                </select><br>

                <label for="newCompanyBranche">Branche: *</label><br>
                <input type="text" id="newCompanyBranche" required placeholder="z.B. Fahrradhandel" maxlength="50"
                  title="Keine Sonderzeichen wie <, >, {, } erlaubt"><br>

                <label for="newCompanyMotto">Motto: *</label><br>
                <input type="text" id="newCompanyMotto" required placeholder="z.B. Fahrräder von A bis Z!"
                  maxlength="100" title="Keine Sonderzeichen wie <, >, {, } erlaubt"><br>

                <label for="newCompanyInhaber">Inhaber/Geschäftsführer: *</label><br>
                <input type="text" id="newCompanyInhaber" required placeholder="z.B. Erna Kistner" maxlength="50"
                  pattern="[a-zA-ZäöüÄÖÜß\s\.,'\-]*"
                  title="Nur Buchstaben und Sonderzeichen wie Bindestrich, Punkt, Komma, Apostroph"><br>

                <label for="newCompanyLogo">Logo hochladen:</label><br>
                <input type="file" id="newCompanyLogo" accept="image/svg+xml" onchange="handleLogoUpload(event)"><br>
                <small style="color: #666;">Max. 500KB | Nur SVG (optional)</small><br>
                <div id="logoPreview" style="margin-top: 10px;">
                  <small style="color: #666;">Keine Datei ausgewählt</small>
                </div>
              </div>

              <div>
                <h4>Adresse & Kontakt</h4>
                <label for="newCompanyStrasse">Straße & Hausnummer: *</label><br>
                <input type="text" id="newCompanyStrasse" required placeholder="z.B. Schwabacher Weg 50" maxlength="60"
                  pattern="[a-zA-Z0-9äöüÄÖÜß\s\.,'\-]*"
                  title="Buchstaben, Zahlen und gängige Sonderzeichen erlaubt"><br>

                <label for="newCompanyPLZ">PLZ: *</label><br>
                <input type="text" id="newCompanyPLZ" required placeholder="z.B. 85049" maxlength="5" pattern="[0-9]{5}"
                  title="Genau 5 Ziffern"><br>

                <label for="newCompanyOrt">Ort: *</label><br>
                <input type="text" id="newCompanyOrt" required placeholder="z.B. Ingolstadt" maxlength="50"
                  pattern="[a-zA-ZäöüÄÖÜß\s\-]*" title="Nur Buchstaben, Leerzeichen und Bindestrich"><br>

                <label for="newCompanyTelefon">Telefon: *</label><br>
                <input type="tel" id="newCompanyTelefon" required placeholder="z.B. 0841 0802020" maxlength="25"
                  pattern="[0-9\s+\(\)\-]*" title="Nur Zahlen und Zeichen: + - ( ) Leerzeichen"><br>

                <label for="newCompanyEmail">E-Mail: *</label><br>
                <input type="email" id="newCompanyEmail" required placeholder="z.B. info@firma.de" maxlength="60"
                  title="Gültige E-Mail-Adresse erforderlich"><br>

                <label for="newCompanyInternet">Internet: *</label><br>
                <input type="text" id="newCompanyInternet" required placeholder="z.B. www.firma.de" maxlength="60"
                  pattern="[a-zA-Z0-9\.\:\-]*" title="Nur Buchstaben, Zahlen und . - :">
              </div>

              <div>
                <h4>Finanz- & Steuerdaten</h4>
                <label for="newCompanyBank">Bank: *</label><br>
                <input type="text" id="newCompanyBank" required placeholder="z.B. BavarianBank" maxlength="50"
                  pattern="[a-zA-Z0-9äöüÄÖÜß\s\.\-]*" title="Buchstaben, Zahlen und gängige Sonderzeichen erlaubt"><br>

                <label for="newCompanyIBAN">IBAN: *</label><br>
                <input type="text" id="newCompanyIBAN" required placeholder="z.B. DE89 3704 0044 0532 0130 00"
                  maxlength="34" pattern="[A-Z]{2}[0-9\s]{2,32}" title="Format: DE + Zahlen (Leerzeichen erlaubt)"
                  style="text-transform: uppercase"><br>

                <label for="newCompanyBIC">BIC: *</label><br>
                <input type="text" id="newCompanyBIC" required placeholder="z.B. COBADEFFXXX" maxlength="11"
                  title="8 oder 11 Zeichen (Buchstaben und Zahlen)" style="text-transform: uppercase"><br>

                <label for="newCompanyUstID">USt-IdNr.: *</label><br>
                <input type="text" id="newCompanyUstID" required placeholder="z.B. DE123456789" maxlength="25"
                  title="Format: DE + Ziffern" style="text-transform: uppercase"><br>

                <label for="newCompanySteuernummer">Steuernummer: *</label><br>
                <input type="text" id="newCompanySteuernummer" required
                  placeholder="z.B. 181/001/11111 oder 143/123/45678" maxlength="20"
                  title="Nur Zahlen, Schrägstriche (/) und Bindestriche (-) erlaubt.&#10;Beispiel: 181/001/11111 oder 143-123-45678"><br>

                <label for="newCompanyAkzent">Akzentfarbe: *</label><br>
                <input type="color" id="newCompanyAkzent" required value="#7db9f5">
              </div>
            </div>

            <br>
            <button type="submit"
              style="background: #28a745; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px;">
              ✓ Unternehmen hinzufügen
            </button>
          </form>
        </div>
      </details>
<br>
    

    </section>



    <section>
      <h2>Exportformate</h2>
      <ul>
        <li><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"
            viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path
              d="M448 80c8.8 0 16 7.2 16 16V415.8l-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3V96c0-8.8 7.2-16 16-16H448zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z" />
          </svg> <strong>PNG:</strong> Optimal für schnelle Verarbeitung in Office-Anwendungen und im Internet. In der
          ByCS Lernplattform für H5P-Inhalte geeignet.</li>
        <li><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"
            viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path
              d="M48 448V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm55 241.1c-3.8-12.7-17.2-19.9-29.9-16.1s-19.9 17.2-16.1 29.9l48 160c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l25-83.4 25 83.4c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l48-160c3.8-12.7-3.4-26.1-16.1-29.9s-26.1 3.4-29.9 16.1l-25 83.4-25-83.4c-3-10.2-12.4-17.1-23-17.1s-19.9 7-23 17.1l-25 83.4-25-83.4z" />
          </svg> <strong>Office:</strong> Kopie in der Zwischenablage zur Weiterverarbeitung in einer Textverarbeitung
          oder
          Tabellenkalkulation.</li>
        <li><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"
            viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path
              d="M64 464c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16H224v80c0 17.7 14.3 32 32 32h80V448c0 8.8-7.2 16-16 16H64zM64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V154.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0H64zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zM257 255c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z" />
          </svg> <strong>SVG:</strong> Eine Vektordatei, die nachträglich bearbeitet werden kann, beispielsweise mit
          dem kostenlosen Programm Inkscape oder einem einfachen Texteditor. SVG-Grafiken können ohne Qualitätsverlust
          vergrößert werden. Sie eignen sich in der ByCS Lernplattform für alle Aktivitäten mit Text- und Medienfeldern,
          Textseiten und die Aktivität Test.
          Da sie textbasiert sind, ermöglichen sie einen einfachen Zugang zu den enthaltenen Informationen, was
          insbesondere Menschen mit Sehbehinderungen zugutekommt.
        </li>
        <li><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16"
            viewBox="0 0 640 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path
              d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z" />
          </svg> <strong>HTML/Inline SVG (für Profis):</strong> Geeignet für direktes Einbinden in HTML-Code,
          beispielsweise
          inline in einem ByCS/Moodlekurs mit der Möglichkeit zum Skripting.
          Ein praktisches Beispiel dafür ist die Verwendung des aktuellen Jahres im Rechnungsdatum, ohne dass
          Sie sich um die Aktualisierung der Belege kümmern müssen.
          Hinweis: Von manchen Plattformen könnte Scripting in einer SVG nicht zugelassen sein oder in Zukunft
          deaktiviert werden.
        </li>
      </ul>
    </section>


    <script>
      let slideIndex = 1;
      let autoTimer;                  // für das automatische Intervall

      showSlides(slideIndex);

      // Manuelle Weiter-/Zurück-Navigation
      function plusSlides(n) {
        clearTimeout(autoTimer);    // Automatik stoppen
        showSlides(slideIndex += n);
        startAuto();                // danach wieder automatisch starten
      }

      // Direkt zu einer bestimmten Folie springen (falls du Dots/Punkte hast – sonst ignorierbar)
      function currentSlide(n) {
        clearTimeout(autoTimer);
        showSlides(slideIndex = n);
        startAuto();
      }

      function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");

        if (n > slides.length) { slideIndex = 1; }
        if (n < 1) { slideIndex = slides.length; }

        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }

        slides[slideIndex - 1].style.display = "block";
      }

      // Automatik starten / neu starten
      function startAuto() {
        autoTimer = setTimeout(() => {
          plusSlides(1);          // nächste Folie
        }, 2000);                   // 3000 ms = 3 Sekunden
      }

      startAuto();                    // beim Laden sofort starten
    </script>

  </main>
  <script src="js/index.js"></script>
  <div w3-include-html="footer.html"></div>

  <script>
    includeHTML();
  </script>
</body>

</html>